# Experimenrs for fictional data
We try to generate fictional dataset which are unknown to the base model. And then evaluate whether we can inject those fictional facts to the base model, and whether we can train the model to learn the functional tokens. The code is divide in two parts, one is for dataset generation and another one is for the dataset evaluation.

## Fictional data generation

To generate the fictional dataset, we used GPT-4 to generate the fictional subject, and use the same object and corresponding multiple choices from the trex-MC dataset. But we tried to make sure the objects in the fictional dataset are uniformly sampled from the unique list of all the objects. You can find the dataset in the path `/NS/llm-1/nobackup/qwu/dataset/trex_MC`.

### Examples

Example of the trex-MC dataset, relation `original broadcaster`:
| ID  | Title            | Network         | Available On                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
|-----|------------------|-----------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 0   | King of the Hill | FOX TV          | ['nbc sports network', 'solar news', 'wic', 'showtime cable network', 'tvontario', 'nine network', 'nicktoons network', 'the weather channel', 'mbc', 'sundancetv', 'rai 2', 'itv london', 'tg4', 'fox sports 1', 'svt2', 'televisa', 'sveriges tv', 'cbc tv', 'tsn', 'tbs', 'tv land', 'versus', 'tvo', 'the cw tv', 'ard', 'network ten', 'gma 7', 'sci fi channel', 'kttv', 'munhwa broadcasting corporation', 'abc tv', 'national geographic channel', 'sf drs', 'tv2 zulu', 'tv4 group', 'radio 4', 'tvb jade', 'channel 4', 'nesn', 'stv', 'sky 1', 'british broadcasting corporation', 'living tv', 'treehouse tv', 'radio 105 network', 'tf1', 'hln', 'cnn news', 'tvp', 'wnbc', 'military channel', 'bbc one hd', 'france 3', 'syfy', 'fox kids', 'nos', 'itv channel tv', 'argentina', 'univision', 'westdeutscher rundfunk', 'w network', 'lifetime tv', 'upn', 'playboy tv', 'noggin', 'canal de las estrellas', 'public broadcasting service', 'mediacorp channel 8', 'itv1', 'playhouse disney', 'discovery health channel', 'channel seven', 'doordarshan', 'channel one', 'bbc one', 'mainichi broadcasting system', 'pbs kids', 'stv north', 'muchmusic', 'upn network', 'fox sports networks', 'syndication', 'lifetime network', 'msnbc', 'youtube', 'yle', 'wb tv', 'ant1', 'cinemax', 'usa', 'the comedy network', 'channel four', 'tokyo broadcasting system', 'webcast', 'syndicated', 'sbs one', 'zdtv', 'espnu', 'rtl']                                                                                                                                                                                                                        | King of the Hill is an American adult animated series created by Mike Judge and Greg Daniels that ran from January 12, 1997, to May 6, 2010 on Fox. It centers on the Hills, a middle-class American family in the fictional small town of . It attempts to retain a realistic approach, seeking humor in the conventional and mundane aspects of everyday life. Judge and Daniels conceived the series after a run with Judge's Beavis and Butt-head on MTV, and the series debuted on the Fox network as a mid-season replacement on January 12, 1997, quickly becoming a hit. The series' popularity led to worldwide syndication, and reruns aired nightly on Adult Swim. The show became one of Fox's longest-running series, third-longest as an animated series, after Family Guy and The Simpsons. In 2007, it was named by Time magazine as one of the top 100 greatest television shows of all time. The title theme was written and performed by The Refreshments. King of the Hill won two Emmy Awards and was nominated for seven. The series had a total of 259 episodes over the course of its 13 seasons, briefly making it the second-longest running American based animated series of all time behind The Simpsons. The series finale aired on the Fox Network on September 13, 2009. Four episodes from the final season were to have aired on Fox, but later aired in syndication on local stations from May 3 to 6, 2010, and on Adult Swim from May 17 to 20, 2010. King of the Hill was a joint production by 3 Arts Entertainment, Deedle-Dee Productions, Judgemental Films, and 20th Century Fox Television and syndicated by 20th Television. In 2013, TV Guide ranked King of the Hill as one of the top 60 Greatest TV Cartoons of All Time.  |
                                                                                                                                     

Example of the fictional dataset:

| Index | Title        | Network     | Channels                                                                                                                                                                                                                                                                                                                                                                                      |
|-------|--------------|-------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 0     | Shadow's Run | usa network | mega channel, espn2, lifetime tv, national geographic channel, eyemark, ion tv, wb tv, france 3, kttv, pax, bbc northern ireland, stv, w network, gma 7, usa, canale 5, rede globo, stv north, bbc world news, televisa, tbs, abc tv, trutv, syndication, national geographic, tvontario, fox sports net, solar sports, nippon tv, youtube, treehouse tv, vtm, network ten, rai 2, itv2, espn, srf 1, channel nine, channel one, univision, australian broadcasting commission, sky 1, bbc radio, cbs news, tvo, tf1, radio philippines network, nbc, british broadcasting corporation, channel 4, ntr, studio 23, comedy central, scottish tv, prosieben, tsn, mynetworktv, rai 1, ctv tv, bbc one hd, public tv, hbo, rtl5, cbc tv, fox8, tv syndication, fs1, el trece, muchmusic, abc news, animal planet international, sbs one, discovery channel, espnu, bbc one scotland, history tv, amc tv, fox reality channel, discovery health channel, bbc three, national educational tv, telecinco, rai tre, grampian tv, doordarshan, sveriges tv, nbcsn, bbc america, bbc choice, fox soccer, nickelodeon, abc family, rede record, adult swim, noggin, vh1 classic, history channel, cn real, itv london |

### Generation guide

The generation procedure is first to prompt GPT-4 to generate $N$ fictional sunject name, we provide the subject name and 5 subject examples in the prompt, then we randomly choose one object from all the objects as the ground truth to this fictional subject, and sample 99 objects as the multiple choices for the subject. In this procedure, if there is one object is the substring of another object, like 'usa' and 'usa network', 'en' and 'english', we will only keep the shorter object in the multiple choices.

To generate the dataset, you can change the relation id, subject name and generated numbers in the config: `.../syn_dataset/conf/gen_config.yaml`.
Then run the script: `.../syn_dataset/scripts/gen_script.sh`


## Fictional data evaluation